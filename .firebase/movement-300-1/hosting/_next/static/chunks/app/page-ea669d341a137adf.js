(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9061:function(n,e,t){Promise.resolve().then(t.bind(t,4901))},4901:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return D}});var i=t(8646),r=t(7437),c=t(6970),l=t(9671),s=t.n(l),o=t(220),a=t(2999),u=t(5236),d=t(5735),x=t(9842),f=t(9854);let h=(0,u.C6)().length?(0,u.Mq)():(0,u.ZF)({apiKey:"AIzaSyADO9306REa4V4NEE4NR3uQe712Jv-MTiA",authDomain:"movement-300-1.firebaseapp.com",projectId:"movement-300-1",storageBucket:"movement-300-1.appspot.com",messagingSenderId:"77807336832",appId:"1:77807336832:web:542cff67726fe16e14d565",databaseURL:"https://test-e2e5c-default-rtdb.asia-southeast1.firebasedatabase.app/"}),p=(0,x.ad)(h),j=(0,f.cF)(h),m=new d.hJ,_=(0,d.v0)(h),g=async()=>{await (0,d.rh)(_,m).then(n=>{d.hJ.credentialFromResult(n).accessToken,console.log(n.user)}).catch(n=>{n.code,n.message,n.customData.email,d.hJ.credentialFromError(n),console.log(n)})};var b=t(2265);function v(){let n=(0,i._)(["\n  text-align: center;\n"]);return v=function(){return n},n}function y(){let n=(0,i._)(["\n  font-size: 50px;\n"]);return y=function(){return n},n}function w(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return w=function(){return n},n}function k(){let n=(0,i._)(["\n  width: 250px;\n  height: 250px;\n  border-radius: 180px;\n  background-color: grey;\n"]);return k=function(){return n},n}function Z(){let n=(0,i._)(["\n  display: flex;\n  /* background-color: blue; */\n\n  width: 60px;\n  height: 60px;\n  justify-content: center;\n\n  .left_arrow {\n    /* background-color: pink; */\n    margin-left: 15px;\n  }\n\n  .icon {\n    width: 40px;\n    height: 40px;\n    align-self: center;\n\n    path {\n      fill: black;\n    }\n  }\n"]);return Z=function(){return n},n}function P(){let n=(0,i._)(["\n  font-size: 30px;\n"]);return P=function(){return n},n}function N(){let n=(0,i._)(["\n  font-size: 19px;\n"]);return N=function(){return n},n}function S(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  /* background-color: cyan; */\n\n  .right_box {\n    margin-left: 20px;\n  }\n"]);return S=function(){return n},n}function U(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  width: 140px;\n  height: 150px;\n  justify-content: space-between;\n  padding-top: 15px;\n  padding-bottom: 15px;\n  /* background-color: cyan; */\n"]);return U=function(){return n},n}function C(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .thin_divider {\n    height: 20px;\n  }\n"]);return C=function(){return n},n}function E(){let n=(0,i._)(["\n  /* width: 20px;\n  height: 20px;  */\n\n  .store_icon {\n    width: 45px;\n    height: 45px;\n\n    path {\n      fill: black;\n    }\n  }\n"]);return E=function(){return n},n}function R(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 300px;\n  width: 250px;\n  background-color: #d9d9d9;\n  border-radius: 15px;\n\n  .in_text {\n    font-size: 15px;\n  }\n"]);return R=function(){return n},n}function z(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  width: 250px;\n  color: black;\n  background-color: #e9dedf;\n  border-radius: 15px;\n  margin-top: 10px;\n"]);return z=function(){return n},n}function I(){let n=(0,i._)(["\n  display: none;\n"]);return I=function(){return n},n}function J(){let n=(0,i._)(["\n  font-size: 15px;\n  color: grey;\n  text-align: center;\n"]);return J=function(){return n},n}function O(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 250px;\n\n  .red_text {\n    /* white-space: pre-line; */\n    color: #ff0000;\n  }\n"]);return O=function(){return n},n}function F(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .thin_divider {\n    height: 20px;\n  }\n"]);return F=function(){return n},n}function L(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-end;\n  height: 380px;\n  width: 250px;\n  background-color: #d9d9d9;\n  border-radius: 15px;\n  overflow: hidden;\n\n  .in_text {\n    font-size: 15px;\n  }\n"]);return L=function(){return n},n}function T(){let n=(0,i._)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]);return T=function(){return n},n}function A(){let n=(0,i._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 250px;\n  /* height: 100px; */\n  border-bottom-left-radius: 15px;\n  border-bottom-right-radius: 15px;\n  background-color: #e9dedf;\n  padding: 10px;\n\n  .black_text {\n    color: black;\n  }\n\n  .date_text {\n    font-size: 18px;\n  }\n"]);return A=function(){return n},n}function B(){let n=(0,i._)(["\n  height: 40px;\n"]);return B=function(){return n},n}function D(){let[n,e]=(0,b.useState)(null),[t,i]=(0,b.useState)(null),[c,l]=(0,b.useState)([]),[u,h]=(0,b.useState)(null),[m,v]=(0,b.useState)(0),[y,w]=(0,b.useState)(0),[k,Z]=(0,b.useState)(_.currentUser?_.currentUser.displayName:"로그인하기");(0,b.useEffect)(()=>{let n=(0,d.Aj)(_,n=>{h(n),n&&N(n.uid)}),e=(0,x.JU)(p,"activist","count"),t=(0,x.cf)(e,n=>{if(n.exists()){let e=n.data();v(e.today),w(e.total)}});return()=>{n(),t()}},[]);let P=(0,b.useRef)(null),N=n=>{let e=(0,f.iH)(j,"images/".concat(n,"/"));(0,f.aF)(e).then(n=>{Promise.all(n.items.map(n=>(0,f.Jt)(n).then(n=>n))).then(n=>{l(n)})})};(0,b.useEffect)(()=>{if(n){let e=URL.createObjectURL(n);return i(e),()=>URL.revokeObjectURL(e)}},[n]);let S=async n=>{n.preventDefault(),await g().then(()=>{_.currentUser&&(h(_.currentUser),N(_.currentUser.uid))})},U=async()=>{let n=(0,x.JU)(p,"activist","count"),e=await (0,x.QT)(n);if(e.exists()){let t=e.data(),i=(t.today||0)+1,r=(t.total||0)+1;await (0,x.pl)(n,{...t,today:i,total:r})}else await (0,x.pl)(n,{today:1,total:1})};return(0,r.jsxs)("main",{className:s().main,children:[(0,r.jsx)("div",{className:s().userInfoContainer,children:(0,r.jsx)("text",{onClick:S,children:u?u.displayName:"로그인하기"})}),(0,r.jsx)(nl,{}),(0,r.jsx)(nl,{}),(0,r.jsxs)(H,{children:[(0,r.jsx)(Q,{children:"금요일의 마스코트"}),(0,r.jsx)(nl,{}),(0,r.jsxs)(V,{children:[(0,r.jsx)(M,{children:(0,r.jsx)(o.Z,{className:"icon left_arrow"})}),(0,r.jsx)(G,{}),(0,r.jsx)(M,{children:(0,r.jsx)(a.Z,{className:"icon"})})]}),(0,r.jsx)(nl,{}),(0,r.jsxs)("activistSection",{children:[(0,r.jsxs)("activistBox",{children:[(0,r.jsx)(q,{children:"오늘 모인 운동가"}),(0,r.jsx)(K,{children:m})]}),(0,r.jsx)(nl,{}),(0,r.jsxs)("activistBox",{className:"right_box",children:[(0,r.jsx)(q,{children:"지금까지 모인 운동가"}),(0,r.jsx)(K,{children:y})]})]})]}),(0,r.jsx)(nl,{}),(0,r.jsx)(nl,{}),(0,r.jsxs)(W,{children:[(0,r.jsx)(q,{children:"300.1 운동가 가입하기"}),(0,r.jsx)(nl,{className:"thin_divider"}),(0,r.jsxs)(X,{onClick:()=>{var n;null==P||null===(n=P.current)||void 0===n||n.click()},children:[(0,r.jsx)($,{ref:P,type:"file",onChange:n=>{e(n.target.files[0])}}),n?(0,r.jsx)(ni,{children:(0,r.jsx)(nr,{src:t,alt:"미리보기 이미지"})}):(0,r.jsx)(q,{className:"in_text",children:"사진 첨부하기"})]}),(0,r.jsx)(Y,{children:(0,r.jsx)(q,{onClick:()=>{if(null===n||!u)return;let e=(0,f.iH)(j,"images/".concat(u.uid,"/").concat(n.name));(0,f.KV)(e,n).then(()=>{N(u.uid),U()})},children:"사진 등록하기"})}),(0,r.jsxs)(ne,{children:[(0,r.jsx)(nl,{className:"thin_divider"}),(0,r.jsx)(nn,{children:"위 버튼을 눌러서 활동 사진을 등록하세요!"}),(0,r.jsx)(nl,{className:"thin_divider"}),(0,r.jsxs)(nn,{className:"red_text",children:["인스타그램 스토리, 게시글에",(0,r.jsx)("br",{}),"등록된 화면의 스크린샷을 등록하세요!",(0,r.jsx)("br",{}),"(조건 미달시 등록 취소)"]})]})]}),(0,r.jsx)(nl,{}),(0,r.jsx)(nl,{}),(0,r.jsxs)(nt,{children:[(0,r.jsx)(q,{children:"운동가들의 활동들"}),(0,r.jsx)(nl,{className:"thin_divider"}),(0,r.jsxs)(V,{children:[(0,r.jsx)(M,{children:(0,r.jsx)(o.Z,{className:"icon left_arrow"})}),c.map(n=>(0,r.jsxs)(ni,{children:[(0,r.jsx)(nr,{src:n}),(0,r.jsxs)(nc,{children:[(0,r.jsx)(nn,{className:"black_text date_text",children:"2024.xx.xx"}),(0,r.jsx)(nn,{className:"black_text",children:"x일 전"})]})]},n)),(0,r.jsx)(M,{children:(0,r.jsx)(a.Z,{className:"icon"})})]})]}),(0,r.jsx)(nl,{})]})}let H=c.ZP.div(v()),K=c.ZP.h1(y()),V=c.ZP.div(w()),G=c.ZP.div(k()),M=c.ZP.div(Z()),Q=c.ZP.h1(P()),q=c.ZP.h3(N());c.ZP.div(S()),c.ZP.div(U());let W=c.ZP.div(C());c.ZP.div(E());let X=c.ZP.div(R()),Y=c.ZP.button(z()),$=c.ZP.input(I()),nn=c.ZP.text(J()),ne=c.ZP.div(O()),nt=c.ZP.div(F()),ni=c.ZP.div(L()),nr=c.ZP.img(T()),nc=c.ZP.div(A()),nl=c.ZP.div(B())},9671:function(n){n.exports={main:"page_main__GlU4n",hidden:"page_hidden__cfeGo",userInfoContainer:"page_userInfoContainer__S55EH",topSection:"page_topSection__VKBOt",countText:"page_countText__8wn0m"}}},function(n){n.O(0,[967,208,358,760,971,23,744],function(){return n(n.s=9061)}),_N_E=n.O()}]);